\documentclass[11pt,psfig]{article}
\usepackage{epsfig}
\usepackage{times}
\usepackage{amssymb}
\usepackage{float}

\newcount\refno\refno=1
\def\ref{\the\refno \global\advance\refno by 1}
\def\ux{\underline{x}}
\def\uw{\underline{w}}
\def\bw{\underline{w}}
\def\ut{\underline{\theta}}
\def\umu{\underline{\mu}} 
\def\bmu{\underline{\mu}} 
\def\be{p_e^*}
\newcount\eqnumber\eqnumber=1
\def\eq{\the \eqnumber \global\advance\eqnumber by 1}
\def\eqs{\eq}
\def\eqn{\eqno(\eq)}

 \pagestyle{empty}
\def\baselinestretch{1.1}
\topmargin1in \headsep0.3in
\topmargin0in \oddsidemargin0in \textwidth6.5in \textheight8.5in
\begin{document}
\setlength{\parskip}{1.2ex plus0.3ex minus 0.3ex}


\thispagestyle{empty} \pagestyle{myheadings} \markright{Homework
3: CS 216, Image Understanding: Spring 2014}



\title{CS 216 Homework 3}
\author{Zachary DeStefano, 15247592}
\date{Due Date: May 9, 2014 in class}

\maketitle

\vfill\eject

\newpage

\section*{Problem 1}

\subsection*{k-Means Clustering results}

\begin{figure}[H]
\centering
\includegraphics[height=3in]{simpsons.jpg}
\caption{Original Image}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[height=3in]{2-means_simpsons.jpg}
\caption{The k-Means Image when $k=2$}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[height=3in]{5-means_simpsons.jpg}
\caption{The k-Means Image when $k=5$}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[height=3in]{10-means_simpsons.jpg}
\caption{The k-Means Image when $k=10$}
\end{figure}

\subsection*{Result when skewing the Red Channel}

If we multiply the red channel by 100, then the mean will tend more toward the red channel than the other channels. The result will be a red tint on the final result image. That is exactly what happened with the following images which are the same k-means images as above but the red channel was multiplied by 100 before k-Means was done. 

\begin{figure}[H]
\centering
\includegraphics[height=3in]{2-means_redEn_simpsons.jpg}
\caption{The k-Means Image when $k=2$ and a skewed red channel}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[height=3in]{5-means_redEn_simpsons.jpg}
\caption{The k-Means Image when $k=5$ and a skewed red channel}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[height=3in]{10-means_redEn_simpsons.jpg}
\caption{The k-Means Image when $k=10$ and a skewed red channel}
\end{figure}

\newpage

\section*{Problem 2}

Here is my original image:

\begin{figure}[H]
\centering
\includegraphics[height=3in]{zebra_small.jpg}
\caption{The image of the zebra}
\end{figure}

\subsection*{8 filter images}

\begin{figure}[H]
\centering
\includegraphics[height=3in]{sigma_1_horizDeriv_zebra_small.jpg}
\caption{The Horizontal Derivative image when $\sigma=1$}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[height=3in]{sigma_2_horizDeriv_zebra_small.jpg}
\caption{The Horizontal Derivative image when $\sigma=2$}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[height=3in]{sigma_4_horizDeriv_zebra_small.jpg}
\caption{The Horizontal Derivative image when $\sigma=4$}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[height=3in]{sigma_1_vertDeriv_zebra_small.jpg}
\caption{The Vertical Derivative image when $\sigma=1$}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[height=3in]{sigma_2_vertDeriv_zebra_small.jpg}
\caption{The Vertical Derivative image when $\sigma=2$}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[height=3in]{sigma_4_vertDeriv_zebra_small.jpg}
\caption{The Vertical Derivative image when $\sigma=4$}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[height=3in]{sigma2_2_sigma1_1_gaussDiff_zebra_small.jpg}
\caption{The Gaussian Difference when $\sigma_2=2$ and $\sigma_1=1$}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[height=3in]{sigma2_4_sigma1_2_gaussDiff_zebra_small.jpg}
\caption{The Gaussian Difference when $\sigma_2=4$ and $\sigma_1=2$}
\end{figure}

\subsection*{Matlab code}

Here is the parent script that calls the function:

\begin{verbatim}

imname = 'zebra_small.jpg';
imageData = im2double(rgb2gray(imread(imname)));
get8FilterImages(imageData,imname);

\end{verbatim}

Here is the main function that gets the information:

\begin{verbatim}

function [ horizDeriv_Sigma1_imageData,vertDeriv_Sigma1_imageData,...
    horizDeriv_Sigma2_imageData,vertDeriv_Sigma2_imageData,...
    horizDeriv_Sigma4_imageData,vertDeriv_Sigma4_imageData,...
    gaussDiff_4_2_imageData,gaussDiff_2_1_imageData] = get8FilterImages( imageData,imname )
%GET8FILTERIMAGES Summary of this function goes here
%   Detailed explanation goes here

[horizDeriv_Sigma1_imageData,vertDeriv_Sigma1_imageData] =...
    computeDerivImages(imageData,1,imname);
[horizDeriv_Sigma2_imageData,vertDeriv_Sigma2_imageData] =...
    computeDerivImages(imageData,2,imname);
[horizDeriv_Sigma4_imageData,vertDeriv_Sigma4_imageData] =...
    computeDerivImages(imageData,4,imname);
gaussDiff_4_2_imageData = computeGaussDiff(imageData,1,2,imname);
gaussDiff_2_1_imageData = computeGaussDiff(imageData,2,4,imname);
end

\end{verbatim}

This is the helper function that gets the gaussian derivatives:

\begin{verbatim}
function [horizDerivImage,vertDerivImage] = computeDerivImages( imageData,sigma,imname )
%COMPUTEDERIVIMAGES Summary of this function goes here
%   Detailed explanation goes here

gaussFilt = fspecial('gaussian',sigma);
filteredImageData = conv2(imageData,gaussFilt,'same');
horizDerivFilter = [1 -1];
horizDerivImage = conv2(filteredImageData,horizDerivFilter,'same');
vertDerivFilter = transpose(horizDerivFilter);
vertDerivImage = conv2(filteredImageData,vertDerivFilter,'same');
horizDerivImageName = strcat('sigma_',num2str(sigma),'_horizDeriv_',imname);
vertDerivImageName = strcat('sigma_',num2str(sigma),'_vertDeriv_',imname);
imwrite(horizDerivImage,horizDerivImageName,'JPEG');
imwrite(vertDerivImage,vertDerivImageName,'JPEG');

end
\end{verbatim}

This is the helper function that computes the gaussian differences

\begin{verbatim}
function [filterDiffImageData] = computeGaussDiff( imageData,sigma1,sigma2,imname )
%COMPUTEDERIVIMAGES Summary of this function goes here
%   Detailed explanation goes here

gaussFilt1 = fspecial('gaussian',sigma1);
gaussFilt2 = fspecial('gaussian',sigma2);
filteredImageData1 = conv2(imageData,gaussFilt1,'same');
filteredImageData2 = conv2(imageData,gaussFilt2,'same');
filterDiffImageData = filteredImageData2-filteredImageData1;
filterDiffImageName = strcat('sigma2_',num2str(sigma2),'_sigma1_',...
    num2str(sigma1),'_gaussDiff_',imname);

imwrite(filterDiffImageData,filterDiffImageName,'JPEG');

end
\end{verbatim}

\end{document}








